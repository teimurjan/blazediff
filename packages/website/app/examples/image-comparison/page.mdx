# Image Comparison

import { Tabs } from "nextra/components";
import DiffImageComparison from "../../../components/diff-image-comparison";
import GmsdImageComparison from "../../../components/gmsd-image-comparison";

Learn how to use BlazeDiff for different types of comparisons - binary, object, and pixel-by-pixel image comparison.

## Installation

```bash npm2yarn
npm install @blazediff/core
```

## Overview

BlazeDiff provides multiple comparison methods optimized for different use cases. Try the interactive demos below to see each method in action.

### Pixel-by-pixel Comparison

<Tabs items={['Basic Comparison', 'Custom Threshold', 'Custom Colors']}>
  <Tabs.Tab>

    <DiffImageComparison
      fixtureA="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
      fixtureB="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
    />

```ts
import blazediff from "@blazediff/core";

// loadImage can either be a browser function or a server function
const img1 = await loadImage(
  "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
);
const img2 = await loadImage(
  "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
);
const output = new Uint8Array(img1.width * img1.height * 4);
const width = img1.width;
const height = img1.height;

const diff = blazediff(img1, img2, output, width, height);
```

  </Tabs.Tab>

  <Tabs.Tab>

    <DiffImageComparison
      fixtureA="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
      fixtureB="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
      options={{ threshold: 0.5 }}
    />

```ts
import blazediff from "@blazediff/core";

// loadImage can either be a browser function or a server function
const img1 = await loadImage(
  "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
);
const img2 = await loadImage(
  "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
);
const output = new Uint8Array(img1.width * img1.height * 4);
const width = img1.width;
const height = img1.height;

const diff = blazediff(img1, img2, output, width, height, { threshold: 0.5 });
```

  </Tabs.Tab>

  <Tabs.Tab>

    <DiffImageComparison
      fixtureA="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
      fixtureB="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
      options={{ aaColor: [255, 0, 0], diffColor: [0, 255, 0] }}
    />

```ts
import blazediff from "@blazediff/core";

// loadImage can either be a browser function or a server function
const img1 = await loadImage(
  "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
);
const img2 = await loadImage(
  "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
);
const output = new Uint8Array(img1.width * img1.height * 4);
const width = img1.width;
const height = img1.height;

const diff = blazediff(img1, img2, output, width, height, {
  aaColor: [255, 0, 0],
  diffColor: [0, 255, 0],
});
```

  </Tabs.Tab>
</Tabs>


### Perceptual Comparison

<Tabs items={['Basic Comparison', 'Custom C-Constant']}>
  <Tabs.Tab>

    <GmsdImageComparison
      fixtureA="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
      fixtureB="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
    />

    ```ts
    import gmsd from "@blazediff/gmsd";

    const img1 = await loadImage(
      "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
    );
    const img2 = await loadImage(
      "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
    );
    const width = img1.width;
    const height = img1.height;
    const score = gmsd(img1, img2, undefined, width, height);
    ```
  </Tabs.Tab>

  <Tabs.Tab>

    <GmsdImageComparison
      fixtureA="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
      fixtureB="https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
      options={{ c: 100 }}
    />

    ```ts
    import gmsd from "@blazediff/gmsd";

    const img1 = await loadImage(
      "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3a.png"
    );
    const img2 = await loadImage(
      "https://raw.githubusercontent.com/teimurjan/blazediff/refs/heads/main/packages/benchmark/fixtures/blazediff/3b.png"
    );
    const width = img1.width;
    const height = img1.height;
    const score = gmsd(img1, img2, undefined, width, height, { c: 100 });
    ```
  </Tabs.Tab>
</Tabs>